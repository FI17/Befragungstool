@model ICollection<QuestionViewModel>

@if (Model != null)
{
    <table>
        @{
            Session["Maximum"] = Model.Count() - 1;
        }
        @foreach (var frage in Model)
        {
            <tr>
                <td class="panel panel-default">
                    <div class="panel-heading panel-default row" style="margin:0px;">
                        <div class="col-sm-1" style="text-align:left; padding:0px">
                            @{
                                if (frage.position == 0)
                                {
                                    @Html.ActionLink(" ", "Position_nach_oben", "Umfrage_Erstellung", new { arg = frage.ID }, new { @class = "btn btn-danger btn-md 	glyphicon glyphicon-arrow-up", @disabled = "disabled" })
                                }
                                else
                                {
                                    @Html.ActionLink(" ", "Position_nach_oben", "Umfrage_Erstellung", new { arg = frage.ID }, new { @class = "btn btn-danger btn-md 	glyphicon glyphicon-arrow-up" })
                                }
                            }
                        </div>
                        <div class="col-sm-1">
                            <input name="model.questionViewModels[@frage.position].position" value="@frage.position" type="number" readonly style="display:none" />
                            <input name="model.questionViewModels[@frage.position].scaleLength" value="@frage.scaleLength" type="number" readonly style="display:none" />
                            <p>
                                @{var frageNummer = frage.position + 1;}
                                @frageNummer
                            </p>
                        </div>
                        <div class="col-sm-2" style="text-align:left; padding:0px">
                            @{
                                if (frage.position.ToString() == Session["Maximum"].ToString())
                                {
                                    @Html.ActionLink(" ", "Position_nach_unten", "Umfrage_Erstellung", new { arg = frage.ID }, new { @class = "btn btn-danger btn-md 	glyphicon glyphicon-arrow-down", @disabled = "disabled" })
                                }
                                else
                                {
                                    @Html.ActionLink(" ", "Position_nach_unten", "Umfrage_Erstellung", new { arg = frage.ID }, new { @class = "btn btn-danger btn-md 	glyphicon glyphicon-arrow-down" })
                                }
                            }
                        </div>
                        <div class="col-sm-5" style="text-align:left; padding:0px">
                            <input class="form-control" name="model.questionViewModels[@frage.position].text" value="@frage.text" />
                        </div>
                        <div class="col-sm-3" style="text-align:right; padding:0px">
                            @Html.ActionLink("löschen", "Frageloeschen", "Umfrage_Erstellung", new { arg = frage.ID }, new { @class = "btn btn-danger btn-md", onclick = "return jaNein();" })
                        </div>
                    </div>
                    @switch (frage.type)
                    {
                        case Domain.Question.choices.MultipleOne:
                            <div class="panel-body panel-default">
                                <table>
                                    @foreach (var antwort in frage.choices)
                                    {
                                        <tr>
                                            <td width="40%">
                                                <input type="radio" disabled />
                                            </td>
                                            <td>
                                                <input id="@frage.choices.ToList().IndexOf( antwort )+FeldSkala+@frage.ID"
                                                       value="@antwort.text"
                                                       label="@antwort"
                                                       type="text"
                                                       class="form-control"
                                                       name="model.questionViewModels[@frage.position].choices[@antwort.position].text" />
                                            </td>
                                        </tr>
                                    }
                                </table>
                            </div>
                            break;
                        case Domain.Question.choices.Skalenfrage:
                            frage.choices = frage.choices.OrderBy(b => b.position).ToList();
                            frage.choices.Reverse();
                            <table class="table">
                                @for (int i = 0; i < frage.choices.Count(); i++)
                                {
                                <tr>
                                    @if (i == 0)
                                    {
                                        string hoehe = (39 * frage.choices.Count() - 39) + "px";
                                        <td style="width:50px;padding:0px;padding-left:19px;" rowspan="@frage.choices.Count().ToString();">
                                            <input id="Ska_Obj"
                                                   name="antworttext"
                                                   class="input-range"
                                                   orient="vertical"
                                                   type="range"
                                                   step="1"
                                                   min="1"
                                                   max="@frage.scaleLength"
                                                   style="height:@hoehe">
                                        </td>
                                    }
                                    <td>
                                        @frage.choices.ToList()[i].text
                                    </td>
                                </tr>
                                }
                            </table>
                            break;
                        case Domain.Question.choices.MultipleMore:
                            <div class="panel-body panel-default">
                                <table>
                                    @foreach (var antwort in frage.choices)
                                    {
                                        <tr>
                                            <td width="40%">
                                                <input type="checkbox" disabled />
                                            </td>
                                            <td>
                                                <input id="@frage.choices.ToList().IndexOf( antwort )+FeldSkala+@frage.ID"
                                                       value="@antwort.text"
                                                       label="@antwort"
                                                       type="text"
                                                       class="form-control"
                                                       name="model.questionViewModels[@frage.position].choices[@antwort.position].text" />
                                            </td>
                                        </tr>
                                    }
                                </table>
                            </div>
                            break;
                        case Domain.Question.choices.Freitext:
                        default:
                            break;
                        case Domain.Question.choices.MultipleMoreMitSonstiges:
                            <div class="panel-body panel-default">
                                <table>
                                    @foreach (var antwort in frage.choices)
                                    {
                                        <tr>
                                            <td width="40%">
                                                <input type="checkbox" disabled />
                                            </td>
                                            <td>
                                                <input id="@frage.choices.ToList().IndexOf( antwort )+FeldSkala+@frage.ID"
                                                       value="@antwort.text"
                                                       label="@antwort"
                                                       type="text"
                                                       class="form-control"
                                                       name="model.questionViewModels[@frage.position].choices[@antwort.position].text" />
                                            </td>
                                        </tr>
                                    }
                                    <tr>
                                        <td width="40%"> <input type="checkbox" disabled /></td>
                                        <td>
                                            
                                            <input type="text" class="form-control btn-primary" name="@frage.ID"  value="Sonstiges Feld" disabled />
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            break;
                        case Domain.Question.choices.MultipleOneMitSonstiges:
                            <div class="panel-body panel-default">
                                <table>
                                    @foreach (var antwort in frage.choices)
                                    {
                                        <tr>
                                            <td width="40%">
                                                <input type="radio" name="@frage.ID" disabled />
                                            </td>
                                            <td>
                                                <input id="@frage.choices.ToList().IndexOf( antwort )+FeldSkala+@frage.ID"
                                                       value="@antwort.text"
                                                       label="@antwort"
                                                       type="text"
                                                       class="form-control"
                                                       name="model.questionViewModels[@frage.position].choices[@antwort.position].text" />
                                            </td>
                                        </tr>
                                    }
                                    <tr>
                                        <td width="40%"> <input type="radio" name="@frage.ID" disabled /></td>
                                        <td>

                                            <input type="text" class="form-control btn-primary" name="@frage.ID" value="Sonstiges Feld" disabled />
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            break;
                    }
                </td>
            </tr>
                                }
    </table>
                                }
<style>
    .input-range {
        -webkit-appearance: slider-vertical;
        width: 1px !important;
        margin: 0px;
        margin-top: 19px;
        transform: rotate(-180deg);
    }

    label {
        margin: 0px;
    }
</style>
